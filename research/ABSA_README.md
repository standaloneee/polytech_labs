# Aspect-Based Sentiment Analysis (ABSA) - Добавленная функциональность

## Обзор

В ноутбук `aspect_sentiment_analysis.ipynb` добавлена полная секция **12. Aspect-Based Sentiment Analysis**, которая расширяет базовый sentiment analysis, выделяя и анализируя отдельные аспекты в отзывах.

## Что было добавлено

### 1. Секция 12: Aspect-Based Sentiment Analysis

#### 12.1. Основная функциональность
- **Извлечение аспектов** из текста на основе ключевых слов
- **Определение тональности** для каждого аспекта отдельно
- **Универсальные категории аспектов:**
  - Качество (чистота, состояние, качество продукта)
  - Сервис (персонал, обслуживание, отношение)
  - Цена (стоимость, выгода, переплата)
  - Скорость/Время (доставка, ожидание, срокиу)
  - Упаковка/Внешний вид (оформление, дизайн, презентация)

#### 12.2. Примеры аспектного анализа
- Демонстрация работы на реальных отзывах
- Выявление противоречий в тональности

#### 12.3. Статистика по аспектам
- Частота упоминания каждого аспекта
- Распределение тональности по аспектам
- Процентное соотношение позитивных/негативных оценок

#### 12.4. Визуализации
- **Тепловая карта** тональности по аспектам
- **Столбчатые диаграммы** частоты упоминаний
- **Графики уверенности модели** для каждого аспекта
- **Круговая диаграмма** согласованности общей и аспектной тональности
- **Пример противоречивого отзыва** с детализацией

#### 12.5. Сравнение общей vs аспектной тональности
- Таблица с детальным сравнением
- Статистика разногласий
- Экспорт в CSV для дальнейшего анализа

#### 12.6. Анализ противоречивых отзывов
- Выявление отзывов с положительными И отрицательными аспектами
- Детальный разбор таких случаев
- Визуализация конкретных примеров

#### 12.7. Итоговые выводы
- Статистика охвата анализа
- Ключевые преимущества ABSA
- Практические рекомендации по применению

## Технические детали

### Используемые технологии
- **PyTorch** и **Transformers** (HuggingFace)
- **Rule-based подход** для извлечения аспектов
- Лучшая модель: `rubert-base-cased-sentiment-rurewiews`

### Подход к извлечению аспектов
1. Словарь ключевых слов для каждой категории (23-25 слов на категорию)
2. Регулярные выражения для поиска в тексте
3. Контекстный анализ (анализ предложения с аспектом)

### Определение тональности аспектов
1. Извлечение предложения с упоминанием аспекта
2. Анализ тональности контекста с помощью sentiment model
3. Сохранение label (POSITIVE/NEGATIVE/NEUTRAL) и confidence score

## Пример результата

```
Отзыв: "Отель хороший, но завтрак разочаровал. Номера чистые, но персонал грубый."

Общая тональность: NEUTRAL (score: 0.786)

Аспектная тональность:
  - Качество:  POSITIVE (score: 0.891) 
  - Сервис:    NEGATIVE (score: 0.823)

ВНИМАНИЕ: Обнаружены разные тональности по аспектам!
```

## Выходные файлы

После выполнения ноутбука создаются следующие файлы:

1. **aspect_based_analysis_results.json** - полные результаты в JSON
2. **aspect_sentiment_heatmap.png** - тепловая карта тональности
3. **aspect_analysis_comprehensive.png** - комплексная визуализация
4. **aspect_vs_overall_comparison.csv** - сравнительная таблица
5. **mixed_sentiment_example.png** - пример противоречивого отзыва

## Запуск

```bash
# Откройте ноутбук в Jupyter
jupyter notebook aspect_sentiment_analysis.ipynb

# Или запустите все ячейки программно
jupyter nbconvert --execute --to notebook --inplace aspect_sentiment_analysis.ipynb
```

## Преимущества ABSA

1. **Детальная картина** - понимание мнения клиента по каждому аспекту
2. **Выявление противоречий** - один и тот же отзыв может содержать разные оценки
3. **Приоритизация улучшений** - фокус на проблемных аспектах
4. **Точность** - более информативно, чем общий sentiment

## Дальнейшие улучшения

1. Использование NER моделей для автоматического извлечения аспектов
2. Учёт модификаторов и отрицаний (очень, не, крайне)
3. Dependency parsing для связи аспектов с описаниями
4. Обучение специализированной ABSA модели на доменных данных

---

**Дата создания:** 2026-02-11  
**Модель:** Claude Sonnet 4.5  
**Технологии:** PyTorch, Transformers, HuggingFace, RuBERT
